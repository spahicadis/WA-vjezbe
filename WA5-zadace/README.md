Preduvjet rada aplikacije i funkcionalnosti je da je backend spojen na MongoDB bazu podataka.
Koraci kako da kreirate Vašu Mongo bazu podataka.
Idite na mongodb.com -> Get Started -> Kreirajte account -> Verificirajte email -> Postavite MFA metodu koja je obavezna (možete email radi jednostavnosti).
Jednom kad ste obavili gore navedne korake u desnom kutu kraj ikonice Vašeg profila je ikonica izbornika, kliknite na nju i kliknite na Atlas.
Sada ste u Atlasu cloud servisu u kojem ćete kreirati sve potrebno za Vašu bazu podataka. Po defaultu ćete se nalaziti u Vašoj organizaciji, kreiranoj prilikom kreiranja računa. Idite na Project Overview (defaultno bi se već trebala prikazivati ta stranica), potom ćete vidjeti da piše Create a cluster, kliknite Create. Odaberite Free (Atlas M0), konfigurirajte cluster po Vašoj želji ili ostavite defaultnu konfiguraciju. Kliknite Create Deployment.
Bit ćete usmjereni natrag na Project Overview i otvoriti će Vam se multistep modal sa koracima kako da napravite konekciju na kerirani cluster. Vaša trenutna IP adresa je dodana na listu dopuštenih konekcija (defaultno, o tome ćemo kasnije). Kreirajte korisinika za bazu podataka, možete ostaviti predefinirane vrijednosti za username i password ili koristiti Vaše, kliknite Create Database User. Kliknite na Choose a connection method -> Drivers -> Ostavite sve kako je samo koprijate Vaš connection string i negdje ga spremite. Kliknite Done. U lijevoj navigacijskoj traci sekcija SECURITY idite na Database & Network Access, potom u sekciji NETWORK ACCESS idite na IP Access List, kliknite na button + ADD IP ADDRESS i u modalu koji se otvori kliknite na ALLOW ACCESS FROM ANYWHERE (ovo je opcionalno, ali pojednostavljuje konekcije na kluster). Sada ćete kreirati bazu podataka na prethodno kreiranom klasteru i dvije kolekcije u njoj. Idite u lijevoj navigacijskoj traci na Clusters, kliknite button Browse Collections. Kliknite na button + Create database, dodijelite joj ime pizze_db i naziv prve kolekcije pizze kliknite Create Database. Dodajte još jednu kolekciju narudbze, u lijevoj navigacijskoj traci, kliknite na kreiranu bazu podataka pizze_db i na button + Create collection, unesite naziv kolekcije narudzbe. To je to, spremili ste kluster, bazu podataka i njezine kolekcije, sada je backend spreman za ispravan rad. U backend direktoriju (root!) ćete kreirati .env file u kojem ćete kreirati dvije ENV varijable naziva DB_STRING i DB_NAME, za vrijednost DB_STRING varijable koristite connection string koji ste prethodno dobili (zamjenite <db_password> sa stvarnom lozinkom koju ste koristili prilikom kreiranja korisnika baze podataka), a za DB_NAME varijablu koristite pizze kako ste i nazvali bazu podataka. To je to backend i baza podataka je spremna.

Pokretanje aplikacije:

Nakon kloniranja ili ručnog preuzimanja i prethodnih koraka setupiranja mongodb i backenda, navigirajte do direktorija gdje se nalazi i frontend i backend (WA5-zadace). Otvorite 2 terminala jedan za frontend i jedan za backend. Navigirajte sa svakim u jedan od direktorija. Provritite naredbu npm install u oba terminala. U terminalu gdje Vam se nalazi backend pokrenit npm start, a u terminalu frontenda npm run dev. U terminalu frontenda ćete imati URL Vue aplikacije, otvorite ga u pregledniku i pristupili ste aplikaciji. U slučaju da Vam je dokument bijeli, moguće da se radi o CORS problemu. Zaustavite frontend i backend, URL Vue aplikacije kopirajte i zalijepite ga u index.js file backend direktorija linija 15 nakon origin: ponovno pokrenite backend i frontend.

Budući da su vam kolekcije prazne, na frontendu Vam se neće prikazivati podatci, tj. pizze. Kreirajte nekoliko dokumenata (pizza), to možete učiniti ručno kroz, kroz Atlas na istom mjestu gdje ste kreirali kolekcije, uđete u kolekciju pizze idete + Insert document ili post requestom na /pizze, predlažem requestom zbog validacije. U screenhots direktoriju ćete imati snimke zaslona kolekcija, gdje možete vidjeti točnu strukturu i vrijednosti dokumenata u kolekciji pizze, slika_url je obavezan podataka za slati kroz request ali se na frontendu ne prikazuje, sastojci key je array objekata sa ključevima naziv i url, url sadrži urlove ikonica tog sastojka (pronađite neku ikonicu za sastojak, kopirajte njezin url i koristite ga za vrijednosti tih polja). Za cijene pizza koristite različite vrijednosti, kako bi najbolje vidjeli rad filtriranja na frontendu.
Logika filtriranja:
Odaberi minimalnu cijenu: gleda se po cijeni pizza veličine mala
Odaberi maksimalnu cijenu: gleda se po cijeni pizza veličine jumbo
Sortiraj od najjeftinije: gleda se po cijeni pizza veličine mala
Sortiraj od najskuplje: gleda se po cijeni pizza veličine jumbo.
Tražite prema nazivu: pokriva djelomično podudaranje i nije case sensitive
